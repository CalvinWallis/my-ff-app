@import "../../../styles/variables.scss";

:host {
  --stat-bar-width: 165px;
  --party-image-width: 155px;
  --font-size-default: 2rem;
  display: flex;
  flex-direction: column;
  height: 100%;
  text-shadow: 3px 3px 1px black;
  font-size: var(--font-size-default);
}

.layout {
  display: grid;
  grid-template-columns: repeat(5, 1fr) 5% 15%;
  grid-template-rows: 3% repeat(7, 1fr);
  grid-template-areas: 
  ". . . . . menustart menuend"
  "main main main main main menustart menuend"
  "main main main main main menustart menuend"
  "main main main main main menustart menuend"
  "main main main main main menustart menuend"
  "main main main main main. ."
  "main main main main main submenu submenu"
  ". . . location location location location";
  padding: 1rem;
  width: 1280px;
  height: 960px;
  margin: auto;
  aspect-ratio: 4 / 3;
}

.layout-main {
  grid-area: main / main / main / menustart;
}

.layout-menu {
  grid-area: menustart / menustart / menuend / menuend;
}

.layout-submenu {
  grid-area: submenu;
}

.submenu-item {
  display: flex;
  justify-content: space-between;
  margin-bottom: 1rem;
}

.layout-location {
  grid-area: location;
}

.menu-item {
  display: block;
  margin-bottom: 1rem;
  padding-left: 2rem;
  position: relative;

  &:focus, &:hover {
    outline: none;
  }

  &:focus::before, &:hover::before {
    content: '';
    background: url('../../../assets/FFPointerSpriteCropped.png') no-repeat;
    background-size: contain;
    display: block;
    width: 128px;
    height: 64px;
    position: absolute;
    left: -6rem;
  }

  &__break {
    margin-bottom: 4rem;
  }

  &:last-of-type {
    margin-bottom: 0;
  }
}

.party {
  padding: 2.5rem 3.5rem;
}

.party-member {
  display: flex;
  gap: 2rem;
  margin-bottom: 3.5rem;

  &__image {
    margin-right: 78px;
  }

  &__name {
    margin-bottom: 1rem;
    display: block;
  }


  &__stats{
    display: grid;
    grid-template-columns: max-content var(--stat-bar-width);

    & dt {
      color: $color-blue-light;
      font-weight: 600;
    }

    & dd {
      margin-left: .5rem;
      margin-bottom: .25rem;
      padding: 0 .25rem .25rem 1rem;
      position: relative;
      
    }

    & span {
      position: absolute;
      right: 0;
    }
  }

  &__stat-value--HP {
    &::after {
      background: linear-gradient(0.25turn, #3775c8, #3775c8, #c4bfc6);
      content: '';
      display: block;
      height: .25rem;
      left: 0;
      position: absolute;
      margin-top: .25rem;
      width: var(--stat-bar-width);
    }
  }

  &__stat-value--MP {
    &::after {
      background: linear-gradient(0.25turn, #53cfad, #53cfad, #bfc3cf);
      content: '';
      display: block;
      height: .25rem;
      left: 0;
      margin-top: .25rem;
      position: absolute;
      width: var(--stat-bar-width);
    }
  }

  &__progress {
    flex-grow: 1;
  }

}